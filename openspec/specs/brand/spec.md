# brand 规范

## 目的
待定 - 由归档变更 add-goods-management 创建。归档后请更新目的。
## 需求
### 需求：获取品牌列表

系统必须提供获取所有品牌列表的接口，返回所有品牌记录（不分页），按 id 升序排列。

- **接口**：`GET /api/brands`
- **认证**：需要 JWT 认证

#### 场景：获取全部品牌
- 调用 `GET /api/brands`
- 返回 `{"brands": [{id, name, status}, ...]}`，按 id 升序
- 响应状态码 200

#### 场景：数据库异常
- 查询失败时返回 `{"error": "..."}` 状态码 500

---

### 需求：新增品牌

系统必须提供新增品牌的接口，验证品牌名称非空且全局唯一。

- **接口**：`POST /api/brands`
- **认证**：需要 JWT 认证

#### 场景：成功新增品牌
- 提交有效名称
- 插入数据库，status=0（启用）
- 返回 `{"message": "品牌添加成功"}` 状态码 201

#### 场景：名称为空
- 提交空名称或缺少 name 字段
- 返回 `{"error": "品牌名称不能为空"}` 状态码 400

#### 场景：名称重复
- 提交已存在的品牌名称
- 返回 `{"error": "该品牌名称已存在"}` 状态码 400

---

### 需求：编辑品牌

系统必须提供编辑品牌信息的接口，验证品牌存在、名称非空且排除自身后唯一。

- **接口**：`PUT /api/brands/:id`
- **认证**：需要 JWT 认证

#### 场景：成功编辑
- 提供有效 ID 和新名称
- 更新 name 字段
- 返回 `{"message": "品牌信息更新成功"}` 状态码 200

#### 场景：品牌不存在
- 提供不存在的 ID
- 返回 `{"error": "品牌不存在"}` 状态码 404

#### 场景：名称为空
- 返回 `{"error": "品牌名称不能为空"}` 状态码 400

#### 场景：名称与其他品牌重复
- 新名称已被其他品牌使用（排除自身）
- 返回 `{"error": "该品牌名称已存在"}` 状态码 400

---

### 需求：更新品牌状态

系统必须提供更新品牌启用/禁用状态的接口。

- **接口**：`PUT /api/brands/:id/status`
- **认证**：需要 JWT 认证

#### 场景：成功更新状态
- 提供有效 ID 和 status 值
- 返回 `{"message": "品牌状态更新成功"}` 状态码 200

#### 场景：状态为空
- 缺少 status 字段或 status 为 null
- 返回 `{"error": "状态不能为空"}` 状态码 400

#### 场景：品牌不存在
- 返回 `{"error": "品牌不存在"}` 状态码 404

---

### 需求：获取启用品牌

系统必须提供获取启用品牌列表的接口，仅返回 status=0 的品牌，用于商品表单下拉选择。

- **接口**：`GET /api/brands/active`
- **认证**：需要 JWT 认证

#### 场景：获取启用品牌列表
- 查询 status=0 的品牌
- 返回 `{"brands": [{id, name}, ...]}` 按 id 升序
- 响应不包含 status 字段
- 状态码 200

---

