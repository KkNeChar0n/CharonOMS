-- 数据库种植脚本：菜单表和权限表
-- 使用 INSERT IGNORE 保证幂等性，可重复执行
-- 执行方法: mysql -u <user> -p <database> < scripts/seed_permissions.sql

-- 一级菜单
INSERT IGNORE INTO `menu` (`id`, `name`, `parent_id`, `route`, `sort_order`, `status`) VALUES
(101, '学生管理', NULL, '', 1, 0),
(102, '教练管理', NULL, '', 2, 0),
(103, '订单管理', NULL, '', 3, 0),
(104, '商品管理', NULL, '', 4, 0),
(105, '审批流管理', NULL, '', 5, 0),
(106, '营销管理', NULL, '', 6, 0),
(107, '合同管理', NULL, '', 7, 0),
(108, '财务管理', NULL, '', 8, 0),
(109, '系统设置', NULL, '', 99, 0);

-- 二级菜单
INSERT IGNORE INTO `menu` (`id`, `name`, `parent_id`, `route`, `sort_order`, `status`) VALUES
(5, '学生管理', 101, 'students', 1, 0),
(6, '教练管理', 102, 'coaches', 1, 0),
(7, '订单管理', 103, 'orders', 1, 0),
(8, '账号管理', 109, 'accounts', 1, 0),
(16, '品牌管理', 104, 'brands', 1, 0),
(17, '属性管理', 104, 'attributes', 2, 0),
(18, '类型管理', 104, 'classifies', 3, 0),
(19, '商品管理', 104, 'goods', 4, 0),
(20, '子订单管理', 103, 'childorders', 2, 0),
(22, '活动模板', 106, 'activity_template', 1, 0),
(23, '活动管理', 106, 'activity_management', 2, 0),
(25, '合同管理', 107, 'contract_management', 1, 0),
(27, '收款管理', 108, 'payment_collection', 1, 0),
(28, '分账明细', 108, 'separate_account', 2, 0),
(29, '退款订单', 103, 'refund_orders', 3, 0),
(31, '审批流类型', 105, 'approval_flow_type', 1, 0),
(32, '审批流模板', 105, 'approval_flow_template', 2, 0),
(33, '权限管理', 109, 'permissions', 10, 0),
(34, '审批流管理', 105, 'approval_flow_management', 3, 0),
(37, '子退费订单', 103, 'refund_childorders', 4, 0),
(38, '退费管理', 108, 'refund_management', 4, 0),
(39, '退费明细', 108, 'refund_payment_detail', 5, 0),
(40, '角色管理', 109, 'roles', 102, 0),
(41, '菜单管理', 109, 'menu_management', 103, 0);

-- 权限数据
INSERT IGNORE INTO `permissions` (`id`, `name`, `menu_id`, `action_id`, `status`, `create_time`, `update_time`) VALUES
-- 账号管理权限
(1, '查看账号', 8, 'view_account', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(2, '新增账号', 8, 'add_account', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(3, '编辑账号', 8, 'edit_account', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(4, '删除账号', 8, 'delete_account', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 角色管理权限
(5, '查看角色', 40, 'view_role', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(6, '新增角色', 40, 'add_role', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(7, '编辑角色', 40, 'edit_role', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(8, '删除角色', 40, 'delete_role', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 权限管理权限
(9, '查看权限', 33, 'view_permission', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(10, '编辑权限', 33, 'edit_permission', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 菜单管理权限
(11, '查看菜单', 41, 'view_menu', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(12, '编辑菜单', 41, 'edit_menu', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 学生管理权限
(21, '查看学生', 5, 'view_student', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(22, '新增学生', 5, 'add_student', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(23, '编辑学生', 5, 'edit_student', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(24, '删除学生', 5, 'delete_student', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 教练管理权限
(31, '查看教练', 6, 'view_coach', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(32, '新增教练', 6, 'add_coach', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(33, '编辑教练', 6, 'edit_coach', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(34, '删除教练', 6, 'delete_coach', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 订单管理权限
(41, '查看订单', 7, 'view_order', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(42, '新增订单', 7, 'add_order', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(43, '编辑订单', 7, 'edit_order', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(44, '删除订单', 7, 'delete_order', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 商品管理权限
(51, '查看商品', 19, 'view_goods', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(52, '新增商品', 19, 'add_goods', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(53, '编辑商品', 19, 'edit_goods', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(54, '删除商品', 19, 'delete_goods', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 品牌管理权限
(61, '查看品牌', 16, 'view_brand', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(62, '新增品牌', 16, 'add_brand', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 属性管理权限
(71, '查看属性', 17, 'view_attribute', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(72, '新增属性', 17, 'add_attribute', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 类型管理权限
(81, '查看类型', 18, 'view_classify', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(82, '新增类型', 18, 'add_classify', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 活动管理权限
(91, '查看活动', 23, 'view_activity', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(92, '新增活动', 23, 'add_activity', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(93, '编辑活动', 23, 'edit_activity', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(94, '删除活动', 23, 'delete_activity', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 合同管理权限
(101, '查看合同', 25, 'view_contract', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(102, '新增合同', 25, 'add_contract', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(103, '编辑合同', 25, 'edit_contract', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 收款管理权限
(111, '查看收款', 27, 'view_payment', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(112, '新增收款', 27, 'add_payment', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 退费管理权限
(121, '查看退费', 38, 'view_refund', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(122, '处理退费', 38, 'process_refund', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
-- 审批管理权限
(131, '查看审批', 34, 'view_approval', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00'),
(132, '处理审批', 34, 'process_approval', 0, '2026-01-28 00:00:00', '2026-01-28 00:00:00');
